<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author"><title>olldbg 手册 · xchens</title><meta name="description" content="ollydbg快捷键：F2——下断点，也就是指定断点的地址；
F3——加载一个可执行程序，进行调试分析；
F4——程序执行到光标处；
F5——缩小还原当前窗口；
F7——单步步入；
F8——单步步过；（Ctrl+F8可以自动步过并设置断点）
F9——直接运行程序，遇到断点处，程序暂停；
Ctrl+F"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/table.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"><meta name="generator" content="Hexo 5.3.0"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><a href="/"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><span>xchens</span></h3><div class="description"><p>share tech</p></div></a></div></div><ul class="social-links"></ul><div class="footer"><a target="_blank" href="https://github.com/cshsonice"><span>follow me at  </span><i class="fa fa-github"></i></a></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">home</a></li><li><a href="/about">about</a></li><li><a href="/archives">archive</a></li><li><a href="/links">links</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><a href="/home" title="home"><img src="/images/avatar.jpg"></a></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>olldbg 手册</a></h3></div><div class="post-content"><h1 id="ollydbg快捷键："><a href="#ollydbg快捷键：" class="headerlink" title="ollydbg快捷键："></a>ollydbg快捷键：</h1><p>F2——下断点，也就是指定断点的地址；</p>
<p>F3——加载一个可执行程序，进行调试分析；</p>
<p>F4——程序执行到光标处；</p>
<p>F5——缩小还原当前窗口；</p>
<p>F7——单步步入；</p>
<p>F8——单步步过；（Ctrl+F8可以自动步过并设置断点）</p>
<p>F9——直接运行程序，遇到断点处，程序暂停；</p>
<p>Ctrl+F2——重新运行程序到起始处，一般用于重新调试程序；</p>
<p>Ctrl+F9——执行到函数返回处，用于跳出函数实现；</p>
<p>Alt+F9——执行到用户代码处，用于快速跳出系统函数；</p>
<p>Ctrl+G——输入十六进制地址，快速定位到该地址处；</p>
<p>Ctrl+F——查找命令</p>
<p>Ctrl+S——查找命令序列(通过any(命令)和r32(32位寄存器)实现模糊查找)</p>
<p>Ctrl+B——查找二进制串(使用?作为模糊查找)</p>
<p>在遇到call或jmp指令时按下Enter键，可以去其目标地址查看，但暂不直接进入执行(静态查看)</p>
<h2 id="断点"><a href="#断点" class="headerlink" title="断点"></a>断点</h2><h3 id="软件断点"><a href="#软件断点" class="headerlink" title="软件断点"></a>软件断点</h3><p>最为常用的普通断点。分为普通操作（鼠标点击设置断点）和命令操作。</p>
<p>命令操作：bp创建断点，bc删除断点，可以指定api函数并设置偏移量。<br>如 <code>bp CreateFileA</code> 以及 <code>bp CreateFile + 5</code></p>
<p>note:</p>
<ol>
<li>软件断点只能在代码上设置。</li>
<li>软件断点可以在代码的任意位置上设置，并且断点的数量不受限制。</li>
</ol>
<h3 id="硬件断点"><a href="#硬件断点" class="headerlink" title="硬件断点"></a>硬件断点</h3><p>硬件断点依赖CPU中的调试寄存器。调试寄存器一共有8个，其中4个用于设置断点，因此断点数量只有4个。  </p>
<p>硬件断点可以用右键菜单也可以用命令进行设置。</p>
<ol>
<li><p>菜单操作</p>
<p> 在CPU的反汇编窗口或数据窗口单击鼠标右键，在弹出菜单内找到”断点”菜单项可以看到相应的设置硬件断点的子菜单项。<br> 断点类型分为 硬件访问、硬件写入、硬件执行</p>
</li>
<li><p>命令操作</p>
<p> 分为HE, HW, HR, HD。<br> 其中HE表示硬件执行断点，HW和HR分别表示硬件写和硬件读断点。<br> HD表示删除断点。</p>
</li>
</ol>
<h3 id="内存断点"><a href="#内存断点" class="headerlink" title="内存断点"></a>内存断点</h3><p>获知某块内存中的数据是在什么情况下被写入或访问的。</p>
<p>在反汇编窗口或数据窗口中单击鼠标右键，在弹出的菜单项里选择”断点”。<br>内存断点分为 <strong>内存访问</strong> 与 <strong>内存写入</strong> 两种方式。</p>
<p>在内存窗口(按Alt + M可以切换到内存窗口)选择某个内存块，单击鼠标右键，在弹出的菜单中可以进行设置”设置内存访问窗口”，”设置内存写入断点”。</p>
<p>note: OD只可以设置一个内存断点，再设置新的内存断点时会自动删除之前的内存断点。</p>
<h3 id="一次性内存访问断点"><a href="#一次性内存访问断点" class="headerlink" title="一次性内存访问断点"></a>一次性内存访问断点</h3><p>类似与内存断点，区别在于在中断后会自行删除</p>
<h3 id="条件断点"><a href="#条件断点" class="headerlink" title="条件断点"></a>条件断点</h3><h4 id="1-条件断点"><a href="#1-条件断点" class="headerlink" title="1.条件断点"></a>1.条件断点</h4><p>在需要设置条件断点的位置按下 <strong>shift + F2</strong> ，在弹出的条件对话框中输入条件。也可以在命令插件中直接输入条件，两者的方式是类似的。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+, -, &amp;&amp;, ||, !, &gt;, &gt;=, &lt;, &lt;=, ==, !=</span><br></pre></td></tr></table></figure>
<p>条件示例</p>
<blockquote>
<p>EAX == 12345678  表示EAX寄存器等于12345678<br>[EAX] == 12345678  表示EAX寄存器中保存的值是一个内存地址，内存地址中的值等于12345678<br>[[EAX]] == 12345678  表示EAX中内存地址指向的内存地址的值是12345678<br>ESI==0040300 &amp;&amp; EDI==00403010  表示ESI寄存器的值为0040300且EDI寄存器的值为00403010<br>[403000] != 10  表示内存地址403000的值不等于10<br>STRING[403010] == “test”  表示以地址403010为起始地址，以NULL作为结尾的ASCII字符串<br>[STRING[403010]] == “test”  表示以地址403010作为起始地址，开头为test的字符串</p>
</blockquote>
<p>如命令 bp LoadLibrary [STRING[esp+4]]==”kernel32.dll”</p>
<h4 id="2-条件记录断点"><a href="#2-条件记录断点" class="headerlink" title="2.条件记录断点"></a>2.条件记录断点</h4><p>在需要设置条件记录断点的地址上按下 “shift+F4”。会弹出条件记录断点的对话框。</p>
<h3 id="消息断点"><a href="#消息断点" class="headerlink" title="消息断点"></a>消息断点</h3><p>用于调试带有窗口的应用程序。</p>
<p>消息断点在”window窗口”中设置(单击工具栏上的”W”按钮即可切换到window窗口)。当切换到window窗口后，首先单击右键弹出菜单中的刷新按钮，便于能正常显示所有的窗口。选中要设置断点的窗口记录，然后在右键弹出的菜单当中，选择”在CLassProc设置消息断点”</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2018-11-12</span><i class="fa fa-tag"></i><a class="tag" href="/tags/工具/" title="工具">工具 </a><a class="tag" href="/tags/olldbg/" title="olldbg">olldbg </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" target="_blank" rel="noopener" href="http://twitter.com/home?status=,https://xchens.cn//posts/2018/11/8e260842/,xchens,olldbg 手册,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/posts/2018/11/c517333d/" title="汇编笔记">previous post</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/posts/2018/11/2d3132fd/" title="求解递归式的基本方法">next post</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script><script async src="/js/customize.js"></script></body></html>